
<div class="login-container">
    <div class="login-card">
        <h2 class="login-title">Iniciar Sesión</h2>
        
        <form #loginForm="ngForm" (ngSubmit)="onLogin()" novalidate>

            <!-- Email o Usuario -->
            <div class="form-group">
                <label for="identifier">Correo o Usuario</label>
                <input
                    type="text"
                    id="identifier"
                    name="identifier"
                    class="form-input"
                    required
                    minlength="3"
                    [(ngModel)]="identifier"
                    #identifierModel="ngModel"
                    [ngClass]="{'invalid-input': identifierModel.invalid && identifierModel.touched}"
                />
                <div class="error-message" *ngIf="identifierModel.touched && identifierModel.invalid">
                    <span *ngIf="identifierModel.errors?.['required']">Este campo es obligatorio.</span>
                    <span *ngIf="identifierModel.errors?.['minlength']">Debe tener al menos 3 caracteres.</span>
                </div>
            </div>

            <!-- Contraseña -->
            <div class="form-group">
                <label for="password">Contraseña</label>
                <input
                    type="password"
                    id="password"
                    name="password"
                    class="form-input"
                    required
                    minlength="8"
                    pattern="^(?=.*[A-Z])(?=.*\d).{8,}$"
                    [(ngModel)]="password"
                    #passwordModel="ngModel"
                    [ngClass]="{'invalid-input': passwordModel.invalid && passwordModel.touched}"
                />
                <div class="error-message" *ngIf="passwordModel.touched && passwordModel.invalid">
                    <span *ngIf="passwordModel.errors?.['required']">La contraseña es obligatoria.</span>
                    <span *ngIf="passwordModel.errors?.['minlength']">Debe tener al menos 8 caracteres.</span>
                    <span *ngIf="passwordModel.errors?.['pattern']">
                        Debe contener al menos una mayúscula y un número.
                    </span>
                </div>
            </div>

            <!-- Botón Iniciar Sesión -->
            <div class="form-group">
                <button
                    type="submit"
                    class="login-button"
                    [disabled]="loginForm.invalid || loading"
                    >
                    {{ loading ? 'Cargando...' : 'Iniciar Sesión' }}
                </button>
            </div>

        </form>

        <!-- Enlace a registro -->
        <div class="register-link">
            <p>¿No tienes cuenta? <a routerLink="/register">Registrarse</a></p>
        </div>
    </div>
</div>